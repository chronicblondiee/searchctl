kind: LifecyclePolicy
metadata:
  name: basic-log-rotation
spec:
  policy:
    phases:
      hot:
        actions:
          rollover:
            max_size: "10gb"
            max_age: "7d"
            max_docs: 1000000
          set_priority:
            priority: 100
      warm:
        min_age: "7d"
        actions:
          set_priority:
            priority: 50
          allocate:
            number_of_replicas: 0
          shrink:
            number_of_shards: 1
          forcemerge:
            max_num_segments: 1
      cold:
        min_age: "30d"
        actions:
          set_priority:
            priority: 0
          allocate:
            number_of_replicas: 0
      delete:
        min_age: "90d"
        actions:
          delete: {}