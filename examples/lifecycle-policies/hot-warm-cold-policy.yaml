kind: LifecyclePolicy
metadata:
  name: hot-warm-cold-logs
spec:
  policy:
    phases:
      hot:
        actions:
          rollover:
            max_size: "50gb"
            max_age: "1d"
            max_docs: 5000000
          set_priority:
            priority: 100
      warm:
        min_age: "1d"
        actions:
          set_priority:
            priority: 50
          allocate:
            number_of_replicas: 0
            include:
              box_type: "warm"
          shrink:
            number_of_shards: 1
          forcemerge:
            max_num_segments: 1
      cold:
        min_age: "7d"
        actions:
          set_priority:
            priority: 0
          allocate:
            number_of_replicas: 0
            include:
              box_type: "cold"
          freeze: {}
      delete:
        min_age: "365d"
        actions:
          delete: {}